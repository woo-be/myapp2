<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">


    <!--    header, footer-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">

    <style>

        .image-container {
            text-align: center;
            margin-top: 50px;
        }
        .image-container img {
            max-width: 100%;
            max-height: 400px;
        }

        .container {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
        }

        .image-container2 {
            text-align: left;
        }

        .circle-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            margin-bottom: 0px;
        }

        .circle-image img {
            max-width: 100%;
            max-height: 100%;
        }

        h {
            font-size: 24px; /* 글자 크기 설정 */
            font-weight: bold; /* 글자 두껍게 설정 */
            font-family: Arial, sans-serif; /* 폰트 설정 */
            color: #333; /* 글자 색상 설정 */
            text-decoration: underline; /* 텍스트에 밑줄 추가 */
        }

        /* CSS 스타일 */
        .card-container {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: hidden; /* 가로 스크롤 막기 */
            scrollbar-width: none;
            -ms-overflow-style: none;
            margin-bottom: 20px;
        }

        .card {
            flex: 0 0 calc(33.333% - 20px);
            margin-right: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            background-color: #f9f9f9;
        }

        .thumbnail {
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            overflow: hidden;
        }

        .thumbnail img {
            width: 100%;
            height: auto;
        }

        .details {
            padding: 20px;
        }

        .title {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .author {
            text-align: right;
            color: #666;
        }

        .views {
            text-align: right;
            color: #666;
        }

        .like-count {
            text-align: right;
            color: #666;
        }

        .arrow-container {
            display: flex;
            justify-content: space-between;
<!--            margin-bottom: 20px;-->
        }

        .arrow {
            cursor: pointer;
            font-size: 24px;
            color: #666;
        }

        .arrow:hover {
            color: #333;
        }
    </style>
</head>
<body>
<div data-th-replace="header :: header">머리말</div>

<div class="image-container">
    <img id="random-image" src="" alt="Random Image">
</div>

<div class="container">
    <div class="image-container2">
        <div class="circle-image">
            <img data-th-src="@{'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/camera2.jpg?type=m&w=140&h=140'}" alt="Image 1">

        </div>
        <h>후기작성</h>
        <p>여행 후기를 작성하고 공유해보세요.</p>

    </div>
    <div class="image-container2">
        <div class="circle-image">
            <img data-th-src="@{'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/shakehand2.jpg?type=m&w=140&h=140'}" alt="Image 2">
        </div>
        <h>모집하기</h>
        <p>함께 여행할 사람들을 모아보세요.</p>

    </div>
    <div class="image-container2">
        <div class="circle-image">
            <img data-th-src="@{'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/calendar3.jpg?type=m&w=140&h=140'}" alt="Image 3">
        </div>
        <h>일정관리</h>
        <p>여행 계획을 함께 세워보세요.</p>

    </div>
</div>

<div class="arrow-container">
    <div class="arrow" onclick="moveLeft()">&#10094;</div>
    <p>후기게시글 최근순</p>
    <div class="arrow" onclick="moveRight()">&#10095;</div>
</div>

<div class="card-container">
    <!-- 여기에 JavaScript로 생성될 카드가 들어갈 것입니다. -->

<!--    <div>-->
<!--        <div class="row row-cols-1 row-cols-md-3 g-3">-->
<!--            <div class="col" data-th-each="reviewBoard : ${list}" data-th-object="${reviewBoard}">-->
<!--                <a class="text-decoration-none link-dark" data-th-href="@{views(reviewBoardId=*{reviewBoardId})}" href="view.html">-->
<!--                    <div class="card border-0">-->
<!--                        &lt;!&ndash; 사진 &ndash;&gt;-->
<!--                        <img class="card-img-top border-bottom rounded-3" data-th-if="*{photos[0].photo}" alt="여행 사진"-->
<!--                             data-th-src="@{'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/review/' + *{photos[0].photo}(type=f,w=250,h=250,ttype=jpg)}">-->
<!--                        &lt;!&ndash; 기본 사진 &ndash;&gt;-->
<!--                        <img class="card-img-top border-bottom rounded-3" data-th-unless="*{photos[0].photo}"-->
<!--                             data-th-src="@{/img/default-review-photo.png}"-->
<!--                             src="/static/img/default-review-photo.png" alt="여행 사진">-->
<!--                        &lt;!&ndash; 카드 내용 &ndash;&gt;-->
<!--                        <div class="card-header text-muted d-flex justify-content-between">-->
<!--                            <span data-th-text="*{regionName}" class="mt-1">지역</span>-->
<!--                        </div>-->

<!--                        <div class="card-body">-->
<!--                            <h5 data-th-text="*{title}">제목입니다</h5>-->
<!--                            <span class="d-flex justify-content-between">-->
<!--                    <span data-th-text="*{writer.nickname}">닉네임</span>-->
<!--                  </span>-->
<!--                            <span class="d-flex justify-content-between">-->
<!--                    <span data-th-text="*{#dates.format(createdDate,'yyyy-MM-dd')}">2024-03-27</span>-->
<!--                    <span>조회수 <span data-th-text="*{views}">조회수</span></span>-->
<!--                  </span>-->

<!--                            <span>좋아요 <span data-th-text="*{likeCount}">좋아요수</span></span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </a>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

</div>



<div class="list" data-th-each="reviewBoard : ${list}" data-th-object="${reviewBoard}"></div>


<div data-th-replace="footer :: footer">꼬리말</div>

</body>

<script>
// 이미지 URL 배열
const imageUrls = [
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_1.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_2.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_4.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_5.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_6.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_8.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_9.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_10.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_11.jpg?type=f&w=1080&h=220',
  'https://3at17w9w2829.edge.naverncp.com/zUFv73XfHj/main/img_19694_12.jpg?type=f&w=1080&h=220'

  // 추가 이미지 URL 추가 가능
];

// 페이지 로드시 이미지 변경
window.onload = changeImage;

// 이미지 변경 함수
function changeImage() {
  // 이미지 요소 가져오기
  const imageElement = document.getElementById('random-image');
  // 랜덤 인덱스 생성
  const randomIndex = Math.floor(Math.random() * imageUrls.length);
  // 랜덤 이미지 URL 선택
  const randomImageUrl = imageUrls[randomIndex];
  // 이미지 변경
  imageElement.src = randomImageUrl;
}

// 5초마다 이미지 변경
setInterval(changeImage, 5000);
</script>

<script type="text/javascript"  th:inline="javascript">
    // JavaScript 코드
    let cardContainer = document.querySelector('.card-container');
    let currentIndex = 0;
    let dataList=[[${list}]];
    console.log(dataList);
<!--    let previousScrollPosition = 0; // 이전 스크롤 위치 저장-->


    // 페이지 로딩 시 초기 카드 렌더링
    renderCards();

    function renderCards() {
        // 스크롤 위치를 이전 위치로 조절
<!--        window.scrollTo({ top: previousScrollPosition, behavior: 'auto' });-->

        cardContainer.innerHTML = ''; // 기존 카드 삭제

        for (let i = currentIndex; i < currentIndex + 3 && i < dataList.length; i++) {
            let card = document.createElement('div');
            card.classList.add('card');

            let thumbnail = document.createElement('div');
            thumbnail.classList.add('thumbnail');
            thumbnail.innerHTML = `<img src="${dataList[i].photos[0].photo}" alt="Thumbnail">`;

            let details = document.createElement('div');
            details.classList.add('details');
            details.innerHTML = `
                <div class="title">${dataList[i].title}</div>
                <div class="author">${dataList[i].writer.nickname}</div>
                <div class="views">조회수 : ${dataList[i].views}</div>
<!--                <div class="like-count">좋아요 : ${dataList[i].likeCount}</div>-->


            `;

            card.appendChild(thumbnail);
            card.appendChild(details);
            cardContainer.appendChild(card);
        }
    }

    function moveLeft() {
        if (currentIndex > 0) {
            currentIndex -= 3;
            renderCards();
        }
    }

    function moveRight() {
        if (currentIndex + 3 < dataList.length) {
            currentIndex += 3;
            renderCards();
        }
    }

<!--    dataList = [-->
<!--        { thumbnail: 'thumbnail1.jpg', title: '제목 1', author: '작성자 1' },-->
<!--        { thumbnail: 'thumbnail2.jpg', title: '제목 2', author: '작성자 2' },-->
<!--        { thumbnail: 'thumbnail3.jpg', title: '제목 3', author: '작성자 3' },-->
<!--        // 나머지 항목들...-->
<!--    ];-->
</script>

<!--<script>-->
<!--    console.log("ok");-->

<!-- const dataList = [-->
<!--      { thumbnail: 'thumbnail1.jpg', title: '제목 1', author: '작성자 1' },-->
<!--      { thumbnail: 'thumbnail2.jpg', title: '제목 2', author: '작성자 2' },-->
<!--      { thumbnail: 'thumbnail3.jpg', title: '제목 3', author: '작성자 3' },-->
<!--      // 나머지 항목들...-->
<!--    ];-->

<!--    // JavaScript 코드-->
<!--    let cardContainer = document.querySelector('.card-container');-->
<!--    let currentIndex = 0;-->
<!--&lt;!&ndash;    let dataList = [${list}];&ndash;&gt;-->

<!--    // 페이지 로딩 시 초기 카드 렌더링-->
<!--        renderCards();-->

<!--    function renderCards() {-->
<!--      cardContainer.innerHTML = ''; // 기존 카드 삭제-->

<!--      for (let i = currentIndex; i < currentIndex + 3 && i < dataList.length; i++) {-->
<!--        let card = document.createElement('div');-->
<!--        card.classList.add('card');-->

<!--        let thumbnail = document.createElement('div');-->
<!--        thumbnail.classList.add('thumbnail');-->
<!--        thumbnail.innerHTML = `<img src="${dataList[i].thumbnail}" alt="Thumbnail">`;-->

<!--        let details = document.createElement('div');-->
<!--        details.classList.add('details');-->
<!--        details.innerHTML = `-->
<!--          <div class="title">${dataList[i].title}</div>-->
<!--          <div class="author">${dataList[i].author}</div>-->
<!--        `;-->

<!--        card.appendChild(thumbnail);-->
<!--        card.appendChild(details);-->
<!--        cardContainer.appendChild(card);-->
<!--      }-->
<!--    }-->

<!--    function moveLeft() {-->
<!--      if (currentIndex > 0) {-->
<!--        currentIndex -= 3;-->
<!--        renderCards();-->
<!--      }-->
<!--    }-->

<!--    function moveRight() {-->
<!--      if (currentIndex + 3 < dataList.length) {-->
<!--        currentIndex += 3;-->
<!--        renderCards();-->
<!--      }-->
<!--    }-->
<!--</script>-->


</html>